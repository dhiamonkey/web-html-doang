<!DOCTYPE html>
<html>
  <head>
    <title>Training Netlify & Database</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <script
      type="text/javascript"
      src="https://identity.netlify.com/v1/netlify-identity-widget.js"
    ></script>
  </head>

  <body>
    <!-- <div data-netlify-identity-menu></div>
  <div data-netlify-identity-button>Login with Netlify Identity</div> -->
    <div id="login">
      <div class="header">
        <h1>this nuts</h1>
      </div>
      <form>
        <div class="group">
          <input id="txtEmail" type="email" />
          <label>Email</label>
        </div>
        <div class="group">
          <input id="txtPassword" type="password" />
          <label>Password</label>
        </div>
        <div id="divLoginError" class="group">
          <div id="lblLoginErrorMessage" class="errorlabel">Error message</div>
        </div>
        <button id="btnLogin" type="button" class="button buttonBlue">
          Log in
        </button>
        <button id="btnSignup" type="button" class="button buttonBlue">
          Sign up
        </button>
      </form>
    </div>

    <div id="app">
      <div class="header">
        <h1>Welcome to Your Amazing App</h1>
      </div>
      <form>
        <div class="group">
          <div id="lblAuthState" class="authlabel"></div>
        </div>
        <button id="btnLogout" type="button" class="button buttonBlue">
          Log out
        </button>
      </form>
    </div>

    <form id="form">
      <label for="increment">Increment:</label><br />
      <input
        type="number"
        id="increment"
        name="increment"
        min="1"
        max="10"
        value="1"
      /><br />
      <button
        type="button"
        value="Submit"
        onclick="submitForm()"
        class="button buttonBlue"
      ></button>
    </form>

    <script>
      async function submitForm() {
        // Get the value to increment
        const value = document.getElementById("increment").value;

        // Send a POST request to the function
        const response = await fetch("/.netlify/functions/hello", {
          method: "POST",
          body: JSON.stringify({ value }),
          headers: {
            "Content-Type": "application/json",
          },
        });

        // Get the incremented value from the response
        const { value: incrementedValue } = await response.json();

        // Display the incremented value
        alert(incrementedValue);
      }
    </script>

    <footer>
      <a href="https://firebase.google.com/" target="_blank"
        ><img
          src="https://firebase.google.com/images/brand-guidelines/logo-standard.png"
      /></a>
    </footer>
  </body>
</html>
